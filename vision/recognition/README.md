# recognition
> 문의사항은 곽동환에게 개별 카톡주세요


# 추후 수정사항


체력바 학습후 제어하는 코드 삽입. 


로봇을 최적의 해상도로 탐색하여 속도를 늘린후, 따로 로봇의 이미지만 따와서 숫자 1과 2를 판단하는 코드 삽입


바퀴를 학습하여 이를 판단하는 코드 삽입 


죽은 로봇에 대해서 알려주고, 이를 제어하는 코드 삽입


기존에 학습된 데이터 셋을 사용하여, 새롭게 카메라를 찍으면 미리 라벨링이 되어서 사진을 만들어낸는 함수 생성


아머에 부여된 숫자를 이용하여 로봇의 진정한 넘버를 찾고 이를 확률론적으로 부여하는 함수 생성


# ****** V3.01버전 신@!축@@#  ********


전반적인 코드 간소화 및 KCF트래커 기능 제거 모든 함수 클래스화^^&^&*


all.hpp : main함수에 넣기 전에 모두 한번 불러주는 헤더파일


pch.hpp : 다른 기능함수를 구현하기 위해 외부에서 모든 헤더파일을 불러주는 헤더파일


camera.hpp : realsense카메라와 가제봇 가상환경 카메라등 카메라를 통괄적으로 다루어주는 헤더파일


Data_control.hpp : 이전에 Data_Control.hpp, SendData_contorl.hpp, Cfg_robot.hpp 를 클래스화 하여서 합친 헤더파일


object_detection.hpp : yolo와 기본 데이터를 연결시켜주는 헤더파일


yolo_class.hpp: 욜로 돌리는 darknet(C로 작성됨)을 c++로 불러와 주는 헤더파일


Vision_ros.hpp: 짐벌 제어와 ROS를 사용하는 부분을 총괄적으로 제어해주는 



# 2.24v 변동사항

미친듯이 코딩을 하여서 2차 제출용으로 완성함. 

개선점이 많고, 코드가 매우 더럽게 분배되어서 도저히 추가적인 유지관리가 불가능하다고 판단. V3.01로 넘어가면서 전부 


# 2.08v 변동사항

거리가 가까운 로봇을 선택해서 그 로봇의 아머의 데이터를 판별한다. 

그중 가장 큰 아머의 데이터를 gimbal에 보내줄 구조체를 만들었다.  //윈도우에서 작업, 아직 문법오류, 에러채크 안함.


# 2.07v 변동사항

아머 티덱 / 트래킹 코드 원본 생성

아머 번호를 식별해서 1번로봇, 2번 로봇 부여하는 함수 삽입


# 2.06v 변동사항

아머 디텍 코드 일부 추가

자동적으로 numberofdetection을 0으로 만들어버리는 오류 해결


# 2.05v 변동사항

align함수와 트래킹모드에서 중대한 오류 발견, 수정함 / 윈도우 작업, 오류 확인안함.

DISPLAY전처리기 추가함. 만약 '//#define DISPLA' Y사용시 더이상 화면에 영상을 출력하지 않을 것임.


# 2.04v 변동사항

젯슨보드에서 직접 빌드, 젯슨보드에서 첫번째 작동, 그러나 트래킹모드에서 오류가 발생 

잿슨보드에서 yolo_v2_console.hpp 파일 darknet 네임스페이스를 생성해야함!


# 2.03v 변동사항

데이타셋을 0번= 아군 1번= 1번적 2번=2번적으로 설정할 수 있도록 수정함 적아식별 가능 / 윈도우 작업, 오류 확인 안함




# 2.02v 변동사항

 " #ifdef " 전처리기 함수를 이용하여 cpu용 감시 코드와 CUDA용 감시코드 생성/ 윈도우작업 오류 확인안함.



# 2.01v 변동사항

모든 코드를 재배치함. 좀더 확장성에 용의하게 만듬/ 단 에러 발생



# 1.11v 변동사항

모든 주석을 영어로 작성함 , 각도계산 기능을 모두 추가함



# 1.10v 변동사항

다른 파트와 통합을 위한 데이터셋 생성 및 해상도 데이터 뿐만 아니라 카메라 기준 각도생성 하는 코드 만듬.


# 1.09v 변동사항

함수 배치 재정의


# 1.08v 변동사항

트래킹과 디텍팅 변환 발생하는 최적화 구현 및 디택팅이 잘못 되었을 경우 트래킹으로 넘어가는 기본적인 코드 삽입


# 1.07v 변동사항

트래킹과 디텍팅 변환에서 발생하는 에러 확인후 수정완료



# 1.06v 변동사항

문법 오류발견. opencv 3.4.5문법에 따름. 다른 버젼을 사용할때 오류가 발생할수 있음. 

첫번째 작동하는 것 확인함 

멀티 recognition 기능 안전하게 구현함. 최대 3기까지 안전하게 구동하는 것을 확인.



# 1.05v 변동사항

구조체 포인터 문제 해결/ detect에서 traking들어갈때 메모리 참조 오류 나는 것 발견



# 1.04v 변동사항

realsense release모드 debug모드 c++ R/D모드 각각 설정하여 환경구성후 오류테스트 >> 몇가지 에러 발생


# 1.03v 변동사항

"Data_Control.hpp" 추가됨

구조체로 데이터 관리, 따라서 모든 함수를 훨씬더 간단하게 관리할 수 있어짐. 

가장 기본적인 로직의 detecting과 tracking이 적용됨.

몇가지 오류의 가능성을 제외한. 작동가능한 최소 요건 충족


# 1.02v 변동사항

"KCFtraker.hpp" 추가됨

KCF 단일 트래킹이 아닌 멀티트래킹코드 삽입 // 단일트래킹 넣었다가 다시 수정함. 

배열 형식으로 총 3개의 로봇을 동시 추적 가능하도록 함. [나중에 구조체로 통합관리 고려중]



# 1.01v 변동사항


c++코드로 변환


지속적인 유지관리를 위한 .hpp파일을 이용한 용도별 함수 분리


컬러/거리 이미지 화각에 따른 위치 조정 //"allign.hpp"


거리값 축출함수 //단, 현재 한개만 축출이됨. 추후에 다중 거리 축출 고려중 멀티 detect될때 거리함수 개선 고려중



# 해더파일 설명

allign.hpp : 화각 조정 합수 집합 (거리화면과 RGB화면의 일치화)


Cfg_robot.hpp : 적을 식별하고, 로봇에게 고유 넘버를 부여할 함수 // 작성중


cv-helper.hpp : realsense이미지와 opencv MAt이미지를 만들어 주는 함수 집합


Data_Control.hpp : 구조체를 만들어서 총괄적인 데이터 관리를 위한 함수 집합


detection.hpp : yolo를 사용해서 로봇을 디텍팅하는 코드를 모아둔 헤더


KCFtraker.hpp : 트래킹을 하는 전반적인 함수 모음


pch.hpp : 필요한 include파일을 통합 관리해주는 헤더


SendData_contorl.hpp : 다른 장치에게 보낼 데이터를 만들어 주는 해더파일 모음


Vision_main.cpp : 실제 실행용 메인함수가 들어있는 실행코드


CUDA_detection.hpp : cuda detection코드, CUDA_YOLO가 선언되어야지만 작동함.


allhpp.hpp : 외부 함수코드와 내부함수 코드가 너무 복잡하게 얽혀있어서 통합관리해줌. 



